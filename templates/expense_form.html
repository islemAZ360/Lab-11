{% extends 'base.html' %}

{% block content %}
<h2>{{ action }} Expense</h2>
<form method="POST" class="col-md-6">
    <div class="mb-3">
        <label>Category</label>
        <select name="category" class="form-select">
            <option value="Food" {% if expense and expense.category == 'Food' %}selected{% endif %}>Food (Eda)</option>
            <option value="Transport" {% if expense and expense.category == 'Transport' %}selected{% endif %}>Transport</option>
            <option value="Subscriptions" {% if expense and expense.category == 'Subscriptions' %}selected{% endif %}>Subscriptions</option>
            <option value="Other" {% if expense and expense.category == 'Other' %}selected{% endif %}>Other</option>
        </select>
    </div>
    <div class="mb-3">
        <label>Amount</label>
        <input type="number" step="0.01" name="amount" class="form-control" value="{{ expense.amount if expense else '' }}" required>
    </div>
    <div class="mb-3">
        <label>Date</label>
        <input type="date" name="date" class="form-control" value="{{ expense.date.strftime('%Y-%m-%d') if expense else '' }}" required>
    </div>
    <div class="mb-3">
        <label>Payment Method</label>
        <select name="payment_method" class="form-select">
            <option value="Cash" {% if expense and expense.payment_method == 'Cash' %}selected{% endif %}>Cash</option>
            <option value="Card" {% if expense and expense.payment_method == 'Card' %}selected{% endif %}>Card</option>
        </select>
    </div>
    <div class="mb-3">
        <label>Comment</label>
        <textarea name="comment" class="form-control">{{ expense.comment if expense else '' }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="{{ url_for('user_expenses', user_id=user_id) }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}